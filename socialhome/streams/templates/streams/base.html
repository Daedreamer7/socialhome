{% extends "base.html" %}
{% load i18n %}

{% block containertype %}container-fluid{% endblock %}

{% block content %}
    <script>var socialhomeStream = "{{ stream_name }}";</script>
    <div class="streams-container">
        <div class="container">
            <div id="new-content-container" class="hidden">
                <a href="" id="new-content-load-link" onclick="return false;">
                    <span class="tag tag-pill tag-primary"><span id="new-content-count">0</span> {% trans "new posts available" %}</span>
                </a>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <div class="grid">
                    <div class="stamped">
                        {% block stream_description %}{% endblock %}
                    </div>
                    {% block stream_actions %}{% endblock %}
                    <div class="grid-sizer"></div>
                    <div class="gutter-sizer"></div>
                    {% for content in content_list %}
                        <div class="grid-item">
                            {{ content.rendered|safe }}
                            <div class="grid-item-bar">
                                <span class="grid-item-open-action" data-content-guid="{{ content.guid }}" title="{{ content.formatted_timestamp }}">{{ content.humanized_timestamp }}{% if content.edited %} ({% trans "edited" %}){% endif %}</span>
                                {% if content.author == request.user.profile %}
                                    &nbsp;
                                    <a href="{% url "content:update" content.id %}"><i class="fa fa-pencil" title="{% trans "Update" %}" aria-label="{% trans "Update" %}"></i></a>
                                    <a href="{% url "content:delete" content.id %}"><i class="fa fa-remove" title="{% trans "Delete" %}" aria-label="{% trans "Delete" %}"></i></a>
                                {% endif %}
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
{% endblock content %}

{% block modal %}
    <div class="modal" id="content-modal">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <img src="" id="content-profile-pic">
                    <h5 id="content-title" class="modal-title"></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="{% trans "Close" %}">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div id="content-body" class="modal-body"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">{% trans "Close" %}</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
